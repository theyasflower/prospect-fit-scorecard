<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>prospect fit scorecard | TheMinCave</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:wght@400;600;700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        /* CSS Variables for brutalist design */
        :root {
            --primary-purple: #afa5fe;
            --hover-purple: #ece3f9;
            --active-purple: #6b5afc;
            --highlight-yellow: #fadf0a;
            --success-green: #98de6c;
            --border-style: 2px solid #000000;
            --shadow-style: -4px 4px 0px 0px black;
            --border-radius: 24px;
            --button-radius: 12px;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
        }
        body {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
    overflow-x: hidden;
}

#root {
    overflow-x: hidden;
}
        
        h1, h2, h3, h4, h5, h6 {
            font-family: 'Bricolage Grotesque', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        }
        
        .category-section {
            scroll-margin-top: 100px;
        }
        
        @media print {
            .no-print { display: none !important; }
            body { background: white !important; }
            .print-break { page-break-after: always; }
            .brutalist-card, .brutalist-button { box-shadow: none !important; border: 1px solid #ccc !important; }
        }

        @keyframes spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

        @keyframes fadeIn {
    from { opacity: 0; transform: translateY(-10px); }
    to { opacity: 1; transform: translateY(0); }
}

.animate-fade-in {
    animation: fadeIn 0.3s ease-in;
}

.animate-spin {
    animation: spin 1s linear infinite;
}

        /* Brutalist Card Styles */
        .brutalist-card {
            border: var(--border-style);
            box-shadow: var(--shadow-style);
            border-radius: var(--border-radius);
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .brutalist-card:hover {
            box-shadow: -5px 5px 0px 0px black;
        }

        /* Brutalist Button Styles */
        .brutalist-button {
            border: var(--border-style);
            box-shadow: -3px 3px 0px 0px black;
            border-radius: var(--button-radius);
            transition: transform 0.1s, box-shadow 0.1s;
            font-weight: 600;
        }

        .brutalist-button:hover:not(:disabled) {
            transform: translate(-1px, -1px);
            box-shadow: -4px 4px 0px 0px black;
        }

        .brutalist-button:active:not(:disabled) {
            transform: translate(1px, 1px);
            box-shadow: -1px 1px 0px 0px black;
        }

        .brutalist-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Brutalist Input */
        .brutalist-input {
            border: var(--border-style);
            border-radius: var(--button-radius);
        }

        .brutalist-input:focus {
            outline: none;
            box-shadow: -3px 3px 0px 0px var(--primary-purple);
        }

        /* Category button styles */
        .category-button {
            border: 2px solid #000;
            box-shadow: -2px 2px 0px 0px black;
            border-radius: 8px;
            transition: transform 0.1s, box-shadow 0.1s;
        }

        .category-button:hover {
            transform: translate(-1px, -1px);
            box-shadow: -3px 3px 0px 0px black;
        }

        .category-button:active {
            transform: translate(1px, 1px);
            box-shadow: -1px 1px 0px 0px black;
        }

        /* Question card hover effect */
        .question-card {
            border: 2px solid #000;
            border-radius: 12px;
            transition: transform 0.1s, box-shadow 0.1s;
        }

        .question-card:hover {
            transform: translate(-1px, -1px);
            box-shadow: -3px 3px 0px 0px black;
        }

        /* Custom brand colors */
        .bg-brand-primary { background-color: #afa5fe; }
        .bg-brand-yellow { background-color: #fadf0a; }
        .bg-brand-green { background-color: #98de6c; }
.bg-brand-green-light { background-color: #cfee30; }
        .text-brand-primary { color: #afa5fe; }
        .text-brand-yellow { color: #fadf0a; }
        .text-brand-green { color: #98de6c; }
        .border-brand-primary { border-color: #afa5fe; }
        .hover\:bg-brand-primary:hover { background-color: #afa5fe; }

        /* Mobile Responsiveness */
@media (max-width: 640px) {
    .brutalist-card {
        border-radius: 16px;
    }
    
    .category-button {
        font-size: 0.75rem;
        padding: 0.5rem 0.75rem;
    }
    
    h1 {
        font-size: 1.5rem !important;
    }
    
    h2, h3 {
        font-size: 1.25rem !important;
    }
    
    .question-card {
        padding: 0.75rem;
    }
    
    .text-6xl {
        font-size: 3rem !important;
    }
}

        .floating-button {
    position: fixed;
    bottom: 1rem;
    left: 0;
    right: 0;
    padding: 0 1rem;
    max-width: 896px; /* 4xl container width */
    margin: 0 auto;
    z-index: 50;
    pointer-events: none;
}

        .floating-button button {
    pointer-events: auto;
}

@media (min-width: 1024px) {
    .floating-button {
        padding: 0;
    }
}
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // Writer questions base (61 questions, 162 total weight)
        const WRITER_QUESTIONS_BASE = [
            { id: 1, category: "AI Adoption", question: "Does the prospect have a positive outlook toward AI-assisted research, ideation and editing?", defaultWeight: 2 },
            { id: 2, category: "Budget & Payment Terms", question: "Is the per-word, per-hour, or per-project rate stated and competitive for your experience level?", defaultWeight: 3 },
            { id: 3, category: "Budget & Payment Terms", question: "Is the payment schedule clearly defined (upfront, milestones, net 15/30/60 terms)?", defaultWeight: 2 },
            { id: 4, category: "Budget & Payment Terms", question: "Does the prospect have a documented or self-reported history of timely payments to freelancers?", defaultWeight: 3 },
            { id: 5, category: "Budget & Payment Terms", question: "Are penalties for late payment agreed on (typically 1.5-3%)?", defaultWeight: 2 },
            { id: 6, category: "Budget & Payment Terms", question: "Is there a provision for additional charges if scope changes?", defaultWeight: 2 },
            { id: 7, category: "Budget & Payment Terms", question: "Are research, interviews, or tool expenses reimbursable?", defaultWeight: 2 },
            { id: 8, category: "Budget & Payment Terms", question: "Are rush fees or expedited work rates agreed upon?", defaultWeight: 1 },
            { id: 9, category: "Budget & Payment Terms", question: "Is there clarity on what constitutes additional work requiring extra payment?", defaultWeight: 3 },
            { id: 10, category: "Budget & Payment Terms", question: "Is the kill fee policy for cancelled projects clearly stated (typically 25-50%)?", defaultWeight: 3 },
            { id: 11, category: "Budget & Payment Terms", question: "Is their preferred payment method accepted and secure?", defaultWeight: 3 },
            { id: 12, category: "Prospect Business & Stability", question: "Does the prospect's business have a clear revenue stream?", defaultWeight: 3 },
            { id: 13, category: "Prospect Business & Stability", question: "Is the prospect's industry stable and not facing major disruption?", defaultWeight: 3 },
            { id: 14, category: "Prospect Experience & Reputation", question: "Does the prospect have realistic expectations about content ROI and timelines?", defaultWeight: 3 },
            { id: 15, category: "Prospect Experience & Reputation", question: "Has the prospect worked with freelance writers before?", defaultWeight: 2 },
            { id: 16, category: "Prospect Experience & Reputation", question: "Can you find any references or testimonials from past writers?", defaultWeight: 1 },
            { id: 17, category: "Prospect Experience & Reputation", question: "Does the prospect avoid dismissive statements about writing, such as \"this should be easy\"?", defaultWeight: 3 },
            { id: 18, category: "Prospect Experience & Reputation", question: "Has the prospect avoided asking for free samples?", defaultWeight: 2 },
            { id: 19, category: "Communication & Collaboration", question: "Does the propect communicate clearly and professionally in initial interactions?", defaultWeight: 3 },
            { id: 20, category: "Communication & Collaboration", question: "Are communication channels and frequency expectations clear?", defaultWeight: 3 },
            { id: 21, category: "Communication & Collaboration", question: "Does the prospect respect your working hours and boundaries?", defaultWeight: 3 },
            { id: 22, category: "Communication & Collaboration", question: "Is the prospect open to feedback?", defaultWeight: 2 },
            { id: 23, category: "Communication & Collaboration", question: "Does the prospect allow autonomy and trust in your expertise?", defaultWeight: 2 },
            { id: 24, category: "Communication & Collaboration", question: "Is there a single point of contact to avoid conflicting feedback from multiple stakeholders?", defaultWeight: 3 },
            { id: 25, category: "Communication & Collaboration", question: "Is the prospect open to new ideas and not fixed on their own approach?", defaultWeight: 3 },
            { id: 26, category: "Content Requirements & Strategy", question: "Are deliverables and formats explicitly stated?", defaultWeight: 3 },
            { id: 27, category: "Content Requirements & Strategy", question: "Can the prospect articulate their content strategy and how writing fits into business goals?", defaultWeight: 3 },
            { id: 28, category: "Content Requirements & Strategy", question: "Has the prospect explained their target audience and messaging clearly?", defaultWeight: 3 },
            { id: 29, category: "Content Requirements & Strategy", question: "Are search optimization goals clearly specified?", defaultWeight: 3 },
            { id: 30, category: "Contract & Legal", question: "Are your responsibilities clearly defined?", defaultWeight: 3 },
            { id: 31, category: "Contract & Legal", question: "Can you retain samples for portfolio use?", defaultWeight: 2 },
            { id: 32, category: "Contract & Legal", question: "Are there safeguards against non-payment (contracts, deposits, etc.)?", defaultWeight: 3 },
            { id: 33, category: "Contract & Legal", question: "Does the contract include detailed scope of work to prevent scope creep?", defaultWeight: 3 },
            { id: 34, category: "Contract & Legal", question: "Are termination terms and notice periods clearly defined?", defaultWeight: 2 },
            { id: 35, category: "Contract & Legal", question: "Are byline rights clearly specified?", defaultWeight: 1 },
            { id: 36, category: "Contract & Legal", question: "Are confidentiality and non-disclosure terms appropriate and reasonable?", defaultWeight: 3 },
            { id: 37, category: "Contract & Legal", question: "Are liability protections and indemnity terms specified?", defaultWeight: 3 },
            { id: 38, category: "Editorial Process & Workflow", question: "Is the main editorial contact identified and authorized to make decisions?", defaultWeight: 1 },
            { id: 39, category: "Editorial Process & Workflow", question: "Are revision rounds and feedback cycles clearly upon?", defaultWeight: 3 },
            { id: 40, category: "Editorial Process & Workflow", question: "Are content approval deadlines realistic?", defaultWeight: 3 },
            { id: 41, category: "Industry & Niche Alignment", question: "Does the prospect's content niche fit your expertise and career goals?", defaultWeight: 3 },
            { id: 42, category: "Industry & Niche Alignment", question: "Are there no ethical concerns with the prospect's industry or business practices?", defaultWeight: 3 },
            { id: 43, category: "Industry & Niche Alignment", question: "Does the prospect's brand align with your personal and professional values?", defaultWeight: 3 },
            { id: 44, category: "Long-Term Partnership", question: "Is there potential for ongoing content work or retainer agreements?", defaultWeight: 3 },
            { id: 45, category: "Long-Term Partnership", question: "Are there opportunities to upsell or take on additional content types?", defaultWeight: 3 },
            { id: 46, category: "Project Management & Tools", question: "Does the prospect provide necessary research tools and subscriptions?", defaultWeight: 3 },
            { id: 47, category: "Project Management & Tools", question: "Is interview access and source coordination supported when needed?", defaultWeight: 3 },
            { id: 48, category: "Red Flags & Warning Signs", question: "Has the prospect avoided ghosting or disappearing during initial communications?", defaultWeight: 3 },
            { id: 49, category: "Red Flags & Warning Signs", question: "Does the prospect avoid suggesting \"exposure\" or \"great for your portfolio\" as payment?", defaultWeight: 3 },
            { id: 50, category: "Red Flags & Warning Signs", question: "Does the prospect avoid requesting unnecessary CV/resume when your portfolio suffices?", defaultWeight: 3 },
            { id: 51, category: "Risk Assessment", question: "Are there safeguards against non-payment (contracts, deposits, etc.)?", defaultWeight: 3 },
            { id: 52, category: "Risk Assessment", question: "Can you verify the prospect's legitimacy through their website, LinkedIn, or references?", defaultWeight: 3 },
            { id: 53, category: "Risk Assessment", question: "Are there no unusual personal or professional requirements that seem inappropriate?", defaultWeight: 3 },
            { id: 54, category: "Your Capability & Availability", question: "Are working hours flexible or aligned with your schedule?", defaultWeight: 2 },
            { id: 55, category: "Your Capability & Availability", question: "Does the prospect's brand align with your personal and professional values?", defaultWeight: 3 },
            { id: 56, category: "Your Capability & Availability", question: "Do you have the skills and experience required to deliver quality work?", defaultWeight: 2 },
            { id: 57, category: "Your Capability & Availability", question: "Does the project align with your professional development goals?", defaultWeight: 3 },
            { id: 58, category: "Your Capability & Availability", question: "Does your current workload allow taking on this project without compromising quality?", defaultWeight: 3 },
            { id: 59, category: "Your Capability & Availability", question: "Do you trust yourself to deliver quality work on time consistently?", defaultWeight: 3 },
            { id: 60, category: "Your Capability & Availability", question: "Do you have access to all tools and resources needed to complete the work?", defaultWeight: 3 },
            { id: 61, category: "Your Capability & Availability", question: "Are you excited about and interested in the subject matter?", defaultWeight: 3 }
        ];

        // Marketer questions base (76 questions)
        const MARKETER_QUESTIONS_BASE = [
            { id: 101, category: "AI Adoption", question: "Is the prospect open to using AI tools for time-saving usecases like data analysis?", defaultWeight: 3 },
            { id: 102, category: "AI Adoption", question: "Is the prospect open to using AI for content ideation?", defaultWeight: 2 },
            { id: 103, category: "Budget & Payment", question: "Are campaign budgets separate from consulting fees?", defaultWeight: 2 },
            { id: 104, category: "Budget & Payment", question: "Are performance bonuses or incentive structures discussed?", defaultWeight: 1 },
            { id: 105, category: "Budget & Payment", question: "Does the prospect understand fractional marketing costs versus full-time employee costs?", defaultWeight: 2 },
            { id: 106, category: "Budget & Payment", question: "Is there flexibility to adjust budgets based on campaign performance and results?", defaultWeight: 2 },
            { id: 107, category: "Budget & Payment", question: "Is responsibility for vendor payments and approvals clearly assigned?", defaultWeight: 3 },
            { id: 108, category: "Budget & Payment", question: "Are the retainer or project fees clearly stated and fair?", defaultWeight: 3 },
            { id: 109, category: "Communication & Collaboration", question: "Is there a formal onboarding process for new marketing partners?", defaultWeight: 2 },
            { id: 110, category: "Communication & Collaboration", question: "Will you have access to internal training materials and knowledge bases?", defaultWeight: 2 },
            { id: 111, category: "Communication & Collaboration", question: "Has the prospect worked with fractional marketers or consultants before?", defaultWeight: 1 },
            { id: 112, category: "Communication & Collaboration", question: "Does the prospect report having positive experiences with past marketing partners?", defaultWeight: 3 },
            { id: 113, category: "Communication & Collaboration", question: "Does the prospect have a history of maintaining long-term relationships with freelancers or agencies?", defaultWeight: 3 },
            { id: 114, category: "Communication & Collaboration", question: "Is the prospect open to new ideas and not fixed on their own approach?", defaultWeight: 3 },
            { id: 115, category: "Communication & Collaboration", question: "Are communication channels, meeting schedules, and reporting formats agreed upon?", defaultWeight: 3 },
            { id: 116, category: "Communication & Collaboration", question: "Does the prospect respond promptly and maintain regular contact?", defaultWeight: 3 },
            { id: 117, category: "Communication & Collaboration", question: "Are the prospect's project deadlines realistic and achievable?", defaultWeight: 3 },
            { id: 118, category: "Communication & Collaboration", question: "Does the prospect communicate clearly and professionally in initial interactions?", defaultWeight: 3 },
            { id: 119, category: "Communication & Collaboration", question: "Does the prospect allow autonomy and trust in your expertise?", defaultWeight: 3 },
            { id: 120, category: "Compliance & Regulations", question: "Do they operate in industries you meet compliance requirements in (e.g., finance, health)?", defaultWeight: 3 },
            { id: 121, category: "Compliance & Regulations", question: "Are there no ethical concerns with the prospect's industry or business practices?", defaultWeight: 3 },
            { id: 122, category: "Compliance & Regulations", question: "Are there no tax, legal, or regulatory barriers that would prevent working with them?", defaultWeight: 3 },
            { id: 123, category: "Contract & Legal", question: "Will a formal contract be signed covering scope, payment terms and IP?", defaultWeight: 3 },
            { id: 124, category: "Contract & Legal", question: "Will the prospect allow you to use their work in your portfolio?", defaultWeight: 3 },
            { id: 125, category: "Contract & Legal", question: "Are confidentiality and non-disclosure terms appropriate and reasonable?", defaultWeight: 2 },
            { id: 126, category: "Contract & Legal", question: "Are terms for early termination, pauses, or cancellations clearly defined?", defaultWeight: 3 },
            { id: 127, category: "Contract & Legal", question: "Are liability protections and indemnity terms specified?", defaultWeight: 3 },
            { id: 128, category: "Contract & Legal", question: "Are your responsibilities clearly defined?", defaultWeight: 3 },
            { id: 129, category: "Content Marketing Experience", question: "Does the prospect understand content marketing and its roles?", defaultWeight: 3 },
            { id: 130, category: "Content Marketing Experience", question: "Does the prospect have a documented content marketing strategy?", defaultWeight: 1 },
            { id: 131, category: "Content Marketing Experience", question: "Does the prospect understand search and social optimization?", defaultWeight: 3 },
            { id: 132, category: "Content Marketing Experience", question: "Has the prospect identified key competitors and their positioning?", defaultWeight: 2 },
            { id: 133, category: "Content Marketing Experience", question: "Are preferred content distribution channels and platforms clearly specified?", defaultWeight: 3 },
            { id: 134, category: "Long-Term Partnership", question: "Are you aligned on marketing philosophies or visions?", defaultWeight: 3 },
            { id: 135, category: "Long-Term Partnership", question: "Is there potential to expand engagement or increase scope?", defaultWeight: 3 },
            { id: 136, category: "Marketing KPIs & Reporting", question: "Are marketing KPIs, timelines and expectations clearly defined?", defaultWeight: 2 },
            { id: 137, category: "Marketing KPIs & Reporting", question: "Are these expectations realistic given budget, resources and timelines?", defaultWeight: 3 },
            { id: 138, category: "Marketing KPIs & Reporting", question: "Is the process for approving campaigns, budgets, and tests clearly documented?", defaultWeight: 2 },
            { id: 139, category: "Marketing Strategy & Objectives", question: "Are marketing budgets and spending priorities clearly defined?", defaultWeight: 3 },
            { id: 140, category: "Marketing Strategy & Objectives", question: "Are marketing goals specific and measurable?", defaultWeight: 3 },
            { id: 141, category: "Marketing Strategy & Objectives", question: "Are marketing goals aligned with overall business objectives?", defaultWeight: 3 },
            { id: 142, category: "Marketing Strategy & Objectives", question: "Are marketing challenges or pain points identified?", defaultWeight: 2 },
            { id: 143, category: "Marketing Strategy & Objectives", question: "Does the prospect allow for unique yet strategic marketing recommendations and testing?", defaultWeight: 2 },
            { id: 144, category: "Marketing Strategy & Objectives", question: "Does the prospect have paying customers and a validated product or service?", defaultWeight: 3 },
            { id: 145, category: "Marketing Strategy & Objectives", question: "Does the prospect provide past marketing data or campaign results?", defaultWeight: 2 },
            { id: 146, category: "Marketing Strategy & Objectives", question: "Has the prospect documented their target market and ideal customer profile?", defaultWeight: 3 },
            { id: 147, category: "Marketing Strategy & Objectives", question: "Does the prospect provide hands-on access to their product or service?", defaultWeight: 3 },
            { id: 148, category: "Marketing Strategy & Objectives", question: "Can the prospect provide testimonials or documented case studies?", defaultWeight: 3 },
            { id: 149, category: "Marketing Strategy & Objectives", question: "Does the prospect actively collect and use customer feedback to inform marketing?", defaultWeight: 3 },
            { id: 150, category: "Resource Availability", question: "Will the prospect provide necessary resources (content, access, personnel) on time?", defaultWeight: 3 },
            { id: 151, category: "Risk Assessment", question: "Are there safeguards against non-payment (contracts, deposits, etc.)?", defaultWeight: 3 },
            { id: 152, category: "Risk Assessment", question: "Does the prospect avoid requesting free audits or unpaid work?", defaultWeight: 3 },
            { id: 153, category: "Risk Assessment", question: "Does the prospect communicate honestly and clearly?", defaultWeight: 3 },
            { id: 154, category: "Risk Assessment", question: "Does the prospect respect your time, boundaries, working hours and processes?", defaultWeight: 3 },
            { id: 155, category: "Risk Assessment", question: "Does the prospect understand marketing requires time and testing?", defaultWeight: 3 },
            { id: 156, category: "Risk Assessment", question: "Is the prospect transparent about budgets, constraints, and expectations?", defaultWeight: 3 },
            { id: 157, category: "Risk Assessment", question: "Does the prospect avoid suggesting \"exposure\" or \"great for your portfolio\" as payment?", defaultWeight: 3 },
            { id: 158, category: "Risk Assessment", question: "Can you verify the prospect's legitimacy through their website, LinkedIn, or references?", defaultWeight: 3 },
            { id: 159, category: "Risk Assessment", question: "Does the prospect avoid requesting unnecessary CV/resume when your portfolio suffices?", defaultWeight: 3 },
            { id: 160, category: "Risk Assessment", question: "Are there no unusual personal or professional requirements that seem inappropriate?", defaultWeight: 3 },
            { id: 161, category: "Team & Stakeholders", question: "Are all marketing stakeholders and roles clearly documented?", defaultWeight: 2 },
            { id: 162, category: "Team & Stakeholders", question: "Are all decision-makers involved and aligned with the marketing strategy and priorities?", defaultWeight: 3 },
            { id: 163, category: "Team & Stakeholders", question: "Is the primary marketing contact identified and authorized to make decisions?", defaultWeight: 3 },
            { id: 164, category: "Team & Stakeholders", question: "Does the founder or leadership team actively create and share content?", defaultWeight: 2 },
            { id: 165, category: "Team & Stakeholders", question: "If not, is there willingness to participate in content marketing efforts?", defaultWeight: 3 },
            { id: 166, category: "Team & Stakeholders", question: "Are cross-team collaboration needs (e.g., sales, product) identified?", defaultWeight: 2 },
            { id: 167, category: "Team & Stakeholders", question: "Is the internal marketing team's capacity and skills documented?", defaultWeight: 1 },
            { id: 168, category: "Team & Stakeholders", question: "If the team is lean, are there plans to hire freelancers or an agency to assist with strategy execution?", defaultWeight: 3 },
            { id: 169, category: "Technology & Data Access", question: "Will you have access to all necessary marketing tools and platforms?", defaultWeight: 3 },
            { id: 170, category: "Technology & Data Access", question: "Are software licenses and subscriptions provided or reimbursed?", defaultWeight: 3 },
            { id: 171, category: "Your Capability & Availability", question: "Are working hours flexible or aligned with your schedule?", defaultWeight: 1 },
            { id: 172, category: "Your Capability & Availability", question: "Does your current workload allow taking on this project without compromising quality?", defaultWeight: 3 },
            { id: 173, category: "Your Capability & Availability", question: "Does the project align with your professional development goals?", defaultWeight: 2 },
            { id: 174, category: "Your Capability & Availability", question: "Does the prospect's brand align with your personal and professional values?", defaultWeight: 2 },
            { id: 175, category: "Your Capability & Availability", question: "Are you excited about and interested in the subject matter?", defaultWeight: 1 },
            { id: 176, category: "Your Capability & Availability", question: "Do you have the skills and experience required to deliver quality work?", defaultWeight: 3 }
        ];

        function App() {
            const [step, setStep] = useState('start');
            const [prospectName, setProspectName] = useState('');
            const [role, setRole] = useState('');
            const [answers, setAnswers] = useState({});
            const [customWeights, setCustomWeights] = useState({});
            const [hiddenCategories, setHiddenCategories] = useState(new Set());
            const [showWeightEditor, setShowWeightEditor] = useState(false);
            const [customQuestions, setCustomQuestions] = useState([]);
const [showAddQuestion, setShowAddQuestion] = useState(false);
            const [isCalculating, setIsCalculating] = useState(false);
            const [editingQuestion, setEditingQuestion] = useState(null);
const [editQuestionText, setEditQuestionText] = useState('');
const [editQuestionWeight, setEditQuestionWeight] = useState(3);
const [showConfirmModal, setShowConfirmModal] = useState(false);
const [confirmAction, setConfirmAction] = useState(null);
const [confirmMessage, setConfirmMessage] = useState('');

            function AnimatedScore({ score, color }) {
    const [displayScore, setDisplayScore] = useState(0);
    
    useEffect(() => {
        let start = 0;
        const end = score;
        const duration = 2000; // 2 seconds
        const increment = end / (duration / 16); // 60fps
        
        const timer = setInterval(() => {
            start += increment;
            if (start >= end) {
                setDisplayScore(end);
                clearInterval(timer);
            } else {
                setDisplayScore(start);
            }
        }, 16);
        
        return () => clearInterval(timer);
    }, [score]);
    
    return (
        <div className={`text-6xl font-bold mb-4 ${color}`}>
            {displayScore.toFixed(1)}%
        </div>
    );
}
            // Load saved data from localStorage
            useEffect(() => {
                const saved = localStorage.getItem('clientVetting');
                if (saved) {
                    try {
                        const data = JSON.parse(saved);
                        if (data.prospectName) setProspectName(data.prospectName);
                        if (data.role) setRole(data.role);
                        if (data.answers) setAnswers(data.answers);
                        if (data.customWeights) setCustomWeights(data.customWeights);
                        if (data.customQuestions) setCustomQuestions(data.customQuestions);
                    } catch (e) {
                        console.error('Error loading saved data', e);
                    }
                }
            }, []);

            // Keyboard shortcuts
useEffect(() => {
    if (step !== 'checklist') return;

    const handleKeyPress = (e) => {
        // Escape to close modals
        if (e.key === 'Escape') {
            if (showWeightEditor) setShowWeightEditor(false);
            if (showAddQuestion) setShowAddQuestion(false);
        }
    };

    window.addEventListener('keydown', handleKeyPress);
    return () => window.removeEventListener('keydown', handleKeyPress);
}, [step, showWeightEditor, showAddQuestion, answeredCount, filteredQuestions]);  // ‚Üê ADD filteredQuestions to dependencies

            // Save to localStorage whenever data changes
            useEffect(() => {
                if (prospectName || role || Object.keys(answers).length > 0) {
                    localStorage.setItem('clientVetting', JSON.stringify({
                        prospectName,
                        role,
                        answers,
                        customWeights,
                        customQuestions
                    }));
                }
            }, [prospectName, role, answers, customWeights]);

           const questionsBase = role === 'writer' ? WRITER_QUESTIONS_BASE : MARKETER_QUESTIONS_BASE;
const baseQuestions = questionsBase.map(q => ({
    ...q,
    weight: customWeights[q.id] !== undefined ? customWeights[q.id] : q.defaultWeight
}));

// Add custom questions with "Other" category
const customQuestionsWithCategory = customQuestions.map(q => ({
    ...q,
    category: "My Custom Questions",
    weight: customWeights[q.id] !== undefined ? customWeights[q.id] : q.defaultWeight
}));

const questions = [...baseQuestions, ...customQuestionsWithCategory];

            const filteredQuestions = questions.filter(q => {
                if (hiddenCategories.has(q.category)) return false;
                return true;
            });

            const totalWeight = filteredQuestions.reduce((sum, q) => sum + q.weight, 0);

            const handleStart = (e) => {
                e.preventDefault();
                if (role) {
                    const saved = JSON.parse(localStorage.getItem('clientVetting') || '{}');
        delete saved.freshStart;
        localStorage.setItem('clientVetting', JSON.stringify(saved));
        
        setStep('checklist');
    }
};

            const handleAnswerChange = (questionId, value) => {
                setAnswers(prev => ({
                    ...prev,
                    [questionId]: value
                }));
            };

            const handleWeightChange = (questionId, newWeight) => {
                setCustomWeights(prev => ({
                    ...prev,
                    [questionId]: parseInt(newWeight)
                }));
            };

            const resetWeights = () => {
                setCustomWeights({});
                localStorage.removeItem('customWeights');
            };

            const toggleCategory = (category) => {
                setHiddenCategories(prev => {
                    const newSet = new Set(prev);
                    if (newSet.has(category)) {
                        newSet.delete(category);
                    } else {
                        newSet.add(category);
                    }
                    return newSet;
                });
            };

            const calculateScore = () => {
                let earnedWeight = 0;
                filteredQuestions.forEach(q => {
                    if (answers[q.id] === true) {
                        earnedWeight += q.weight;
                    }
                });
                return (earnedWeight / totalWeight) * 100;
            };

            const getScoreInterpretation = (score) => {
                if (score <= 59) return {
                    label: "High risk",
                    message: "Significant concerns. Renegotiate terms or decline.",
                    color: "text-red-600",
                    bgColor: "bg-red-50",
                    borderColor: "border-red-300"
                };
                if (score <= 69) return {
                    label: "Moderate fit",
                    message: "Proceed only after addressing non-negotiables.",
                    color: "text-orange-600",
                    bgColor: "bg-orange-50",
                    borderColor: "border-orange-300"
                };
                if (score <= 79) return {
                    label: "Good fit",
                    message: "Only minor adjustments needed before committing.",
                    color: "text-yellow-600",
                    bgColor: "bg-yellow-50",
                    borderColor: "border-yellow-300"
                };
                if (score <= 89) return {
                    label: "Strong fit",
                    message: "Almost perfect.",
                    color: "text-brand-primary",
                    bgColor: "bg-purple-50",
                    borderColor: "border-purple-300"
                };
                return {
                    label: "Excellent fit",
                    message: "Proceed with confidence!",
                    color: "text-green-600",
                    bgColor: "bg-green-50",
                    borderColor: "border-green-300"
                };
            };

     const handleSubmit = () => {
    setIsCalculating(true);
    setTimeout(() => {
        setStep('results');
        setIsCalculating(false);
        setTimeout(() => {
            const scoreElement = document.getElementById('score-result');
            if (scoreElement) {
                scoreElement.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
        }, 300);
    }, 1500);
};

            const handleBackToEdit = () => {
                setStep('checklist');
                window.scrollTo({ top: 0, behavior: 'smooth' });
            };

            const handleRestart = () => {
    showConfirm(
        'Start a new evaluation? Your custom questions will be kept.',
        () => {
            setStep('start');
            setProspectName('');
            setRole('');
            setAnswers({});
            
            localStorage.setItem('clientVetting', JSON.stringify({
                prospectName: '',
                role: '',
                answers: {},
                customWeights,
                customQuestions,
                hiddenCategories: Array.from(hiddenCategories),
                freshStart: true
            }));
        }
    );
};

            const addCustomQuestion = (questionText, weight) => {
    const newQuestion = {
        id: `custom-${Date.now()}`,
        question: questionText,
        defaultWeight: parseInt(weight),
        category: "My Custom Questions",
        isCustom: true
    };
    setCustomQuestions(prev => [...prev, newQuestion]);
    
};

const deleteCustomQuestion = (id) => {
    showConfirm(
        'Delete this custom question?',
        () => {
            setCustomQuestions(prev => prev.filter(q => q.id !== id));
            // Also remove its answer
            setAnswers(prev => {
                const newAnswers = {...prev};
                delete newAnswers[id];
                return newAnswers;
            });
        }
    );
};

// START EDITING A CUSTOM QUESTION - ADD THESE HERE
const startEditQuestion = (question) => {
    setEditingQuestion(question.id);
    setEditQuestionText(question.question);
    setEditQuestionWeight(question.defaultWeight);
};

const saveEditQuestion = () => {
    if (editQuestionText.trim()) {
        setCustomQuestions(prev => 
            prev.map(q => 
                q.id === editingQuestion 
                    ? {...q, question: editQuestionText.trim(), defaultWeight: editQuestionWeight}
                    : q
            )
        );
    }
    setEditingQuestion(null);
};

const cancelEditQuestion = () => {
    setEditingQuestion(null);
    setEditQuestionText('');
    setEditQuestionWeight(3);
};



            const shareToLinkedIn = () => {
                const score = calculateScore().toFixed(1);
                const interpretation = getScoreInterpretation(score);
                const pageUrl = window.location.href;
                const text = `Just vetted a potential client using @TheMinCave's checklist. Score: ${score}% üéØ ${interpretation.label}

https://themincave.com/tools/Prospect-Fit-Scorecard`;

                const url = `https://www.linkedin.com/feed/?shareActive=true&text=${encodeURIComponent(text)}`;
                window.open(url, '_blank', 'width=600,height=600');
            };

            const shareToX = () => {
                const score = calculateScore().toFixed(1);
                const interpretation = getScoreInterpretation(score);
                const pageUrl = window.location.href;
                const text = `Just vetted a potential client using @TheMinCave's checklist. Score: ${score}% üéØ ${interpretation.label}

https://themincave.com/tools/Prospect-Fit-Scorecard`;

                const url = `https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}`;
                window.open(url, '_blank', 'width=600,height=400');
            };

            const categorizedQuestions = filteredQuestions.reduce((acc, question) => {
                if (!acc[question.category]) {
                    acc[question.category] = [];
                }
                acc[question.category].push(question);
                return acc;
            }, {});

            const categories = Object.keys(categorizedQuestions).sort();
            const allCategories = [...new Set(questions.map(q => q.category))].sort();
            const answeredCount = filteredQuestions.filter(q => answers[q.id] !== undefined).length;
            const progress = (answeredCount / filteredQuestions.length) * 100;

    // Confirmation Modal Component
const ConfirmModal = ({ message, onConfirm, onCancel }) => (
    <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
        <div className="bg-white brutalist-card p-6 max-w-md w-full">
            <p className="text-gray-900 mb-6">{message}</p>
            <div className="flex gap-3">
                <button
                    onClick={onCancel}
                    className="brutalist-button flex-1 px-4 py-2 bg-gray-100 text-gray-700"
                >
                    Cancel
                </button>
                <button
                    onClick={onConfirm}
                    className="brutalist-button flex-1 px-4 py-2 bg-red-600 text-white"
                >
                    Confirm
                </button>
            </div>
        </div>
    </div>
);

            // Helper to show confirmation modal
const showConfirm = (message, action) => {
    setConfirmMessage(message);
    setConfirmAction(() => action);
    setShowConfirmModal(true);
};

const handleConfirmYes = () => {
    if (confirmAction) confirmAction();
    setShowConfirmModal(false);
    setConfirmAction(null);
};

const handleConfirmNo = () => {
    setShowConfirmModal(false);
    setConfirmAction(null);
};

           {/* START SCREEN */}
            return (
    <>
{step === 'start' && (() => {
    const savedData = localStorage.getItem('clientVetting');
    const hasSavedData = savedData && !JSON.parse(savedData).freshStart;
    
    return (
        <div className="min-h-0 flex items-center justify-center p-4 bg-white">
            <div className="max-w-md w-full bg-white brutalist-card p-8">
                <div className="text-center mb-8">
    <h1 className="text-2xl sm:text-3xl font-bold text-gray-900 mb-2">Prospect Fit Scorecard</h1>
    <span className="inline-block text-xs font-semibold px-2 py-1 border-2 border-black mb-2" style={{backgroundColor: '#afa5fe', color: 'white', borderRadius: '8px'}}>
        TheMinCave
    </span>
    <p className="text-sm text-gray-600 mt-2">
        Vet leads and prospects systematically to make better decisions
    </p>
</div>
                
                {hasSavedData && (
    <div className="mb-6 p-4 border-2 border-black" style={{backgroundColor: '#98DE6C', borderRadius: '12px'}}>
        <p className="text-sm font-semibold text-gray-800 mb-2">üìã Resume your progress?</p>
        <button
            onClick={() => setStep('checklist')}
            className="text-sm text-gray-700 underline font-semibold"
        >
            Continue where you left off
        </button>
    </div>
)}

                <form onSubmit={handleStart} className="space-y-6">
                    <div>
                        <label className="block text-sm font-medium text-gray-700 mb-2">
                            Prospect Name (Optional)
                        </label>
                        <input
                            type="text"
                            value={prospectName}
                            onChange={(e) => setProspectName(e.target.value)}
                            className="brutalist-input w-full px-4 py-2 bg-white"
                            placeholder="Enter prospect or company name"
                        />
                    </div>

                    <div>
                        <label className="block text-sm font-medium text-gray-700 mb-3">
                            I am a... *
                        </label>
                        <div className="space-y-2">
                            <label className="flex items-center p-3 border-2 border-black cursor-pointer transition"
                                   style={{ 
                                       borderRadius: '12px',
                                       backgroundColor: role === 'writer' ? '#ece3f9' : 'white'
                                   }}>
                                <input
                                    type="radio"
                                    name="role"
                                    value="writer"
                                    checked={role === 'writer'}
                                    onChange={(e) => setRole(e.target.value)}
                                    className="h-4 w-4"
                                    style={{accentColor: '#afa5fe'}}
                                />
                                <span className="ml-3 text-gray-900 font-medium">Freelance Writer</span>
                            </label>
                            <label className="flex items-center p-3 border-2 border-black cursor-pointer transition"
                                   style={{ 
                                       borderRadius: '12px',
                                       backgroundColor: role === 'marketer' ? '#ece3f9' : 'white'
                                   }}>
                                <input
                                    type="radio"
                                    name="role"
                                    value="marketer"
                                    checked={role === 'marketer'}
                                    onChange={(e) => setRole(e.target.value)}
                                    className="h-4 w-4"
                                    style={{accentColor: '#afa5fe'}}
                                />
                                <span className="ml-3 text-gray-900 font-medium">Freelance Content Marketer / Consultant</span>
                            </label>
                        </div>
                    </div>

                    <button
                        type="submit"
                        disabled={!role}
                        className="brutalist-button w-full text-white py-3 px-6"
                        style={{backgroundColor: role ? '#afa5fe' : '#d1d5db'}}
                    >
                        Vet A Prospect
                    </button>
                </form>

                <div className="mt-6 p-4 border-2 border-black" style={{backgroundColor: '#afa5fe20', borderRadius: '12px'}}>
                    <p className="text-sm text-gray-700">
                        <strong style={{color: '#afa5fe'}}>What you'll do:</strong> Answer questions about your potential client. 
                        Get an instant vetting score to help you decide if this prospect is a good fit.
                    </p>
                </div>
            </div>
        </div>
    );
})()}

        
            {step === 'results' && (() => {
    const score = calculateScore();
    const interpretation = getScoreInterpretation(score); // RESULTS SCREEN

    return (
        <div className="min-h-0 bg-white py-12 px-4">
                        <div className="max-w-4xl mx-auto">
                            <div className="bg-white brutalist-card p-6">
                                <div className="no-print flex flex-col sm:flex-row sm:justify-between items-stretch sm:items-center gap-3 mb-8 pb-4 border-b-2 border-gray-200">
                                    <button
                                        onClick={handleBackToEdit}
                                        className="brutalist-button bg-white text-gray-700 px-4 py-2"
                                    >
                                        ‚Üê Back to Edit
                                    </button>
                                    <button
                                        onClick={() => window.print()}
                                        className="brutalist-button bg-white text-gray-700 px-4 py-2"
                                    >
                                        üñ®Ô∏è Print / PDF
                                    </button>
                                </div>

                                <div className="text-center mb-2 mt-8">
    <div className="flex flex-col sm:flex-row items-center justify-center gap-2 mb-2">
        <h1 className="text-2xl sm:text-3xl font-bold text-gray-900">Your Vetting Results</h1>
        <span className="text-xs font-semibold px-2 py-1 border-2 border-black" style={{backgroundColor: '#afa5fe', color: 'white', borderRadius: '8px'}}>
            TheMinCave
        </span>
    </div>
    {prospectName && <p className="text-sm sm:text-base text-gray-600 mt-1">Prospect: <span className="font-semibold">{prospectName}</span></p>}
    <p className="text-xs sm:text-sm text-gray-500 mt-1">
        {role === 'writer' ? 'Freelance Writer' : 'Freelance Content Marketer / Consultant'} Checklist
    </p>
</div>

                                <div id="score-result" className={`border-4 border-black ${interpretation.bgColor} my-8`} style={{borderRadius: '24px', padding: '2rem', boxShadow: '-6px 6px 0px 0px black'}}>
                                    <div className="text-center">
                                        <AnimatedScore score={score} color={interpretation.color} />
                                        <h2 className={`text-2xl font-bold mb-2 ${interpretation.color}`}>
                                            {interpretation.label}
                                        </h2>
                                        <p className="text-lg text-gray-700">
                                            {interpretation.message}
                                        </p>
                                    </div>
                                </div>

                                <div className="mb-8">
    <h3 className="text-xl font-semibold mb-4">Summary</h3>
    <div className="grid grid-cols-1 sm:grid-cols-3 gap-4">
        <div className="bg-gray-50 p-4 text-center border-2 border-black" style={{borderRadius: '16px'}}>
            <p className="text-sm text-gray-600 font-semibold">Questions</p>
            <p className="text-2xl font-bold text-gray-900">{filteredQuestions.length}</p>
        </div>
        <div className="bg-gray-50 p-4 text-center border-2 border-black" style={{borderRadius: '16px'}}>
            <p className="text-sm text-gray-600 font-semibold">Yes Answers</p>
            <p className="text-2xl font-bold text-gray-900">
                {filteredQuestions.filter(q => answers[q.id] === true).length}
            </p>
        </div>
        <div className="bg-red-50 p-4 text-center border-2 border-black" style={{borderRadius: '16px'}}>
            <p className="text-sm text-red-600 font-semibold">üö© Red Flags</p>
            <p className="text-2xl font-bold text-red-600">
                {filteredQuestions.filter(q => q.weight === 3 && answers[q.id] !== true).length}
            </p>
        </div>
    </div>
</div>

                                <div className="mb-10">
    <h3 className="text-xl font-semibold mb-4">Share Your Results</h3>
    <div className="flex flex-col sm:flex-row gap-3">
    <button
        onClick={shareToLinkedIn}
        className="brutalist-button w-full sm:flex-1 px-4 py-3 bg-blue-600 text-white"
    >
            üíº Share on LinkedIn
        </button>
    <button
        onClick={shareToX}
        className="brutalist-button w-full sm:flex-1 px-4 py-3 bg-black text-white"
    >
        üê¶ Share on Twitter
    </button>
</div>
</div>

{/* Critical Issues - Red Flags */}
{(() => {
    const criticalNos = filteredQuestions.filter(q => q.weight === 3 && answers[q.id] !== true);
    
    if (criticalNos.length > 0) {
        return (
            <div className="mb-10">
                <div className="p-6 border-2 border-black bg-red-50" style={{borderRadius: '24px'}}>
                    <h3 className="text-lg font-semibold mb-4 text-red-600">‚ö†Ô∏è Critical Concerns ({criticalNos.length})</h3>
                    <p className="text-sm text-gray-700 mb-4">
                        These are non-negotiable questions you answered "No" to. Address these before proceeding:
                    </p>
                    <ul className="space-y-2">
                        {criticalNos.map(q => (
                            <li key={q.id} className="flex items-start gap-2 text-sm">
                                <span className="text-red-600 font-bold flex-shrink-0">‚Ä¢</span>
                                <span className="text-gray-800">{q.question}</span>
                            </li>
                        ))}
                    </ul>
                </div>
            </div>
        );
    }
    return null;
})()}

<div className="mb-10">
    <div className="p-6 border-2 border-black" style={{backgroundColor: '#afa5fe20', borderRadius: '24px'}}>
        <div className="text-center">
            <h3 className="text-lg font-semibold mb-2" style={{color: '#afa5fe'}}>Made with üíõ by TheMinCave</h3>
            <p className="text-sm text-gray-700 mb-4">
                Did this tool help you validate a gut feeling? Buy us a cuppa (or two) to support more free resources!
            </p>
            <a 
                href="https://buy.stripe.com/8x28wQclP8NM1m072f1wY00"
                target="_blank"
                rel="noopener noreferrer"
                className="brutalist-button inline-block px-6 py-3 text-white"
                style={{backgroundColor: '#afa5fe'}}
            >
                ‚òï Buy us a cuppa
            </a>
        </div>
    </div>
</div>

<div className="mt-4 mb-8 print-break">
                                    <h3 className="text-xl font-semibold mb-4">Category Breakdown</h3>
                                    <div className="space-y-3">
                                        {categories.map(category => {
                                            const categoryQuestions = categorizedQuestions[category];
                                            const categoryAnswered = categoryQuestions.filter(q => answers[q.id] === true).length;
                                            const categoryTotal = categoryQuestions.length;
                                            const categoryPercent = (categoryAnswered / categoryTotal) * 100;

                                            return (
                                                <div key={category} className="bg-gray-50 p-4 border-2 border-black" style={{borderRadius: '12px'}}>
                                                    <div className="flex justify-between items-center mb-2">
                                                        <span className="font-medium text-gray-900 text-sm">{category}</span>
                                                        <span className="text-sm text-gray-600 font-semibold">{categoryAnswered}/{categoryTotal}</span>
                                                    </div>
                                                    <div className="w-full bg-gray-200 h-3 border-2 border-black" style={{borderRadius: '8px', overflow: 'hidden'}}>
                                                        <div
                                                            className="h-full transition-all duration-300"
                                                            style={{ width: `${categoryPercent}%`, backgroundColor: '#afa5fe' }}
                                                        ></div>
                                                    </div>
                                                </div>
                                            );
                                        })}
                                    </div>
                                </div>

                                <div className="border-t-2 border-gray-200 pt-6 space-y-4 no-print">
                                    <p className="text-sm text-gray-600">
                                        <strong>Note:</strong> This checklist is for guidance only. You're ultimately responsible for your own business decisions.
                                    </p>
                                    <div className="flex flex-col sm:flex-row gap-3">
    <button
        onClick={handleBackToEdit}
        className="brutalist-button flex-1 bg-white text-gray-700 py-3 px-6 w-full sm:w-auto"
    >
        ‚Üê Edit Answers
    </button>
    <button
        onClick={handleRestart}
        className="brutalist-button flex-1 text-white py-3 px-6 w-full sm:w-auto"
        style={{backgroundColor: '#afa5fe'}}
    >
        Vet Another Prospect
    </button>
</div>
                                </div>
                            </div>
                        </div>
                </div>
            );
        })()}

            {/* CHECKLIST SCREEN */}
            {step === 'checklist' && (
    <div className="min-h-0 bg-white">
                    <div className="bg-white shadow-sm sticky top-0 z-10 border-b-2 border-black">
                        <div className="max-w-4xl mx-auto px-4 py-8">
                            <div className="flex justify-between items-start sm:items-center mb-3 gap-2">
   <div className="flex-1 min-w-0">
        <div className="flex items-center gap-2 mb-1 flex-wrap">
            <h1 className="text-base sm:text-xl font-bold text-gray-900">
                {role === 'writer' ? 'writer' : 'marketer'} fit scorecard
            </h1>
            <span className="text-xs font-semibold px-2 py-1 border-2 border-black whitespace-nowrap" style={{backgroundColor: '#afa5fe', color: 'white', borderRadius: '6px'}}>
                TheMinCave
            </span>
        </div>
        {prospectName && <p className="text-xs sm:text-sm text-gray-600">Prospect: {prospectName}</p>}
    </div>
    <span className="text-xs sm:text-sm text-gray-600 font-semibold whitespace-nowrap flex-shrink-0">{answeredCount} / {filteredQuestions.length} answered</span>
</div>
                            <div className="w-full bg-gray-200 h-3 border-2 border-black" style={{borderRadius: '8px', overflow: 'hidden'}}>
                                <div
                                    className="h-full transition-all duration-300"
                                    style={{ width: `${progress}%`, backgroundColor: '#afa5fe' }}
                                ></div>
                            </div>
                        </div>
                    </div>
    

                    <div className="max-w-4xl mx-auto px-4 py-4">
     {/* Questions */}
<div className="bg-white brutalist-card p-6 mb-32">
    <div className="mb-6 p-4 border-2 border-black" style={{backgroundColor: '#afa5fe20', borderRadius: '16px'}}>
    <h2 className="text-lg font-semibold mb-3" style={{color: '#afa5fe'}}>how to use this scorecard</h2>
    <div className="space-y-2 text-sm text-gray-700">
        <p><strong>‚úì Check = YES</strong>  |  <strong>‚òê Blank = NO</strong></p>
        
        <p className="mt-3"><strong>Question Weights:</strong></p>
        <p className="ml-4">3 = Critical  |  2 = Important  |  1 = Nice to have</p>
        
        <p className="mt-3"><strong>Customize:</strong></p>
        <ul className="ml-4 space-y-1">
            <li>‚Ä¢ Click "Adjust Weights" to change question importance</li>
            <li>‚Ä¢ Click "Add Custom Question" to add your own</li>
            <li>‚Ä¢ Exclude categories below if they don't apply to you</li>
        </ul>
        
        <p className="mt-3 text-xs italic">
            TThis checklist is for guidance only. You're ultimately responsible for your own business decisions.
        </p>
    </div>
        </div>
                        <div className="bg-white brutalist-card p-4 sm:p-6 mb-6">
    <div className="flex flex-col sm:flex-row sm:flex-wrap gap-2 sm:gap-3 mb-3">
       <button
    onClick={() => {
        setShowWeightEditor(!showWeightEditor);
        if (!showWeightEditor) {
            setTimeout(() => {
                document.getElementById('weight-editor')?.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            }, 100);
        }
    }}
    className={`brutalist-button px-4 py-2 w-full sm:w-auto ${showWeightEditor ? 'text-gray-900' : 'bg-gray-100 text-gray-700'}`}
    style={showWeightEditor ? {backgroundColor: '#98DE6C'} : {}}
>
    ‚öñÔ∏è Adjust Weights
</button>

<button
    onClick={() => {
        setShowAddQuestion(!showAddQuestion);
        if (!showAddQuestion) {
            setTimeout(() => {
                document.getElementById('add-question')?.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            }, 100);
        }
    }}
    className={`brutalist-button px-4 py-2 flex items-center justify-center gap-2 whitespace-nowrap w-full sm:w-auto ${showAddQuestion ? 'bg-brand-green text-gray-900' : 'bg-gray-100 text-gray-700'}`}
>
    <span>{customQuestions.length > 0 ? '‚öôÔ∏è Manage Custom Questions' : '‚ûï Add Custom Question'}</span>
    {customQuestions.length > 0 && (
        <span className="px-2 py-0.5 text-xs font-bold bg-brand-primary text-white border border-black flex-shrink-0" style={{borderRadius: '6px'}}>
            {customQuestions.length}
        </span>
    )}
</button>

        <div className="hidden sm:block sm:flex-1"></div>

        <button
    onClick={() => {
        const allAnswered = filteredQuestions.every(q => answers[q.id] === true);
        if (allAnswered) {
            // Deselect All - remove from state instead of setting to false
            const newAnswers = {...answers};
            filteredQuestions.forEach(q => {
                delete newAnswers[q.id];
            });
            setAnswers(newAnswers);
        } else {
            // Select All
            const newAnswers = {...answers};
            filteredQuestions.forEach(q => {
                newAnswers[q.id] = true;
            });
            setAnswers(newAnswers);
        }
    }}
            className="brutalist-button px-4 py-2 bg-gray-100 text-gray-700 w-full sm:w-auto"
        >
            {filteredQuestions.every(q => answers[q.id] === true) ? '‚òëÔ∏è Deselect All' : '‚òê Select All'}
        </button>

        <button
    onClick={() => showConfirm(
        'Reset all answers? This cannot be undone.',
        () => setAnswers({})
    )}
    className="brutalist-button px-4 py-2 text-red-600 hover:bg-red-50 w-full sm:w-auto"
>
    üîÑ Reset Answers
</button>
    </div>
</div>
                    
                            {showWeightEditor && (
    <div className="mt-4 p-4 bg-gray-50 border-2 border-black" style={{borderRadius: '12px'}}>
        <div className="flex justify-between items-center mb-3">
            <h3 className="font-semibold">Adjust Question Weights</h3>
            <button
                onClick={resetWeights}
                className="text-sm text-blue-600 hover:underline font-semibold"
            >
                Reset to Defaults
            </button>
        </div>
        <p className="text-sm text-gray-600 mb-3">
            3 = Critical, 2 = Important, 1 = Nice to have
        </p>
        <div className="max-h-64 overflow-y-auto space-y-2">
            {filteredQuestions.map(q => (
                <div key={q.id} className="flex items-center gap-3 text-sm">
                    <select
                        value={q.weight}
                        onChange={(e) => handleWeightChange(q.id, e.target.value)}
                        className="px-2 py-1 border-2 border-black font-semibold"
                        style={{borderRadius: '6px'}}
                    >
                        <option value="3">3</option>
                        <option value="2">2</option>
                        <option value="1">1</option>
                    </select>
                    <span className="text-gray-700 line-clamp-1">{q.question}</span>
                </div>
            ))}
        </div>
    </div>
)}

{showAddQuestion && (
    <div className="mt-4 p-4 bg-gray-50 border-2 border-black" style={{borderRadius: '12px'}}>
        <h3 className="font-semibold mb-3">Add Custom Question</h3>
        <form onSubmit={(e) => {
            e.preventDefault();
            const formData = new FormData(e.target);
            addCustomQuestion(formData.get('question'), formData.get('weight'));
            e.target.reset();
        }}>
            <div className="space-y-3">
                <div>
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                        Question *
                    </label>
                    <input
                        type="text"
                        name="question"
                        required
                        className="brutalist-input w-full px-3 py-2 bg-white"
                        placeholder="E.g., Does the client have a clear project timeline?"
                    />
                </div>
                <div>
                    <label className="block text-sm font-medium text-gray-700 mb-1">
                        Weight *
                    </label>
                    <select
                        name="weight"
                        required
                        className="brutalist-input w-full px-3 py-2 bg-white"
                    >
                        <option value="3">3 - Very Important (Non-negotiable)</option>
                        <option value="2">2 - Important (Preferred)</option>
                        <option value="1">1 - Nice to have (Optional)</option>
                    </select>
                </div>
                <div className="flex gap-2">
                    <button
                        type="submit"
                        className="brutalist-button px-4 py-2 text-white"
                        style={{backgroundColor: '#afa5fe'}}
                    >
                        Add Question
                    </button>
                    <button
                        type="button"
                        onClick={() => setShowAddQuestion(false)}
                        className="brutalist-button px-4 py-2 bg-gray-100 text-gray-700"
                    >
                        Cancel
                    </button>
                </div>
            </div>
        </form>

        {/* Show existing custom questions */}
        {customQuestions.length > 0 && (
            <div className="mt-4 pt-4 border-t-2 border-gray-200">
                <p className="text-sm font-semibold text-gray-700 mb-2">Your Custom Questions:</p>
                <div className="space-y-2">
                   {customQuestions.map(q => (
    <div key={q.id} className="flex flex-col gap-2 text-sm p-3 bg-white border border-black" style={{borderRadius: '8px'}}>
        {editingQuestion === q.id ? (
            // EDITING MODE
            <>
                <input
                    type="text"
                    value={editQuestionText}
                    onChange={(e) => setEditQuestionText(e.target.value)}
                    className="brutalist-input w-full px-3 py-2 bg-white text-sm"
                    placeholder="Question text"
                />
                <div className="flex items-center gap-2">
                    <select
                        value={editQuestionWeight}
                        onChange={(e) => setEditQuestionWeight(parseInt(e.target.value))}
                        className="brutalist-input px-3 py-2 bg-white text-sm"
                    >
                        <option value="1">Weight: 1 - Nice to have</option>
                        <option value="2">Weight: 2 - Important</option>
                        <option value="3">Weight: 3 - Critical</option>
                    </select>
                    <button
                        onClick={saveEditQuestion}
                        className="brutalist-button px-3 py-2 bg-brand-green text-gray-900 text-sm"
                    >
                        ‚úì Save
                    </button>
                    <button
                        onClick={cancelEditQuestion}
                        className="brutalist-button px-3 py-2 bg-gray-100 text-gray-700 text-sm"
                    >
                        ‚úï Cancel
                    </button>
                </div>
            </>
        ) : (
            // VIEW MODE
            <>
                <div className="flex items-start sm:items-center gap-2 flex-wrap">
                    <span className="flex-1 text-gray-700 break-words min-w-0">{q.question}</span>
                    <span className="text-xs font-semibold px-2 py-1 bg-gray-200 text-gray-700 whitespace-nowrap">
                        Weight: {q.defaultWeight}
                    </span>
                </div>
                <div className="flex gap-2">
                    <button
                        onClick={() => startEditQuestion(q)}
                        className="brutalist-button px-3 py-1 bg-blue-50 text-blue-600 text-sm"
                    >
                        ‚úèÔ∏è Edit
                    </button>
                    <button
                        onClick={() => deleteCustomQuestion(q.id)}
                        className="brutalist-button px-3 py-1 bg-red-50 text-red-600 text-sm"
                    >
                        üóëÔ∏è Delete
                    </button>
                </div>
            </>
        )}
    </div>
))}
                </div>
            </div>
        )}
    </div>
)}
        

                       {/* Category Filter Buttons */}
<div className="bg-white brutalist-card p-4 mb-6">
    <p className="text-sm font-semibold text-gray-700 mb-1">Exclude Categories:</p>
    <p className="text-xs text-gray-500 mb-3">‚ö†Ô∏è Excluding categories with critical questions may skew your final score</p>
    <div className="flex flex-wrap gap-2">
        {allCategories.map(category => {
            const isHidden = hiddenCategories.has(category);
            return (
                <button
                    key={category}
                    onClick={() => toggleCategory(category)}
                    className={`category-button px-3 py-1 text-sm font-medium ${isHidden ? 'bg-gray-200 text-gray-500 line-through' : 'text-white'}`}
                    style={{backgroundColor: isHidden ? '#e5e7eb' : '#afa5fe'}}
                >
                    {category}
                </button>
            );
        })}
    </div>
</div>


                            {categories.map((category, idx) => {
                                const isHidden = hiddenCategories.has(category);
                                if (isHidden) return null;
                                
                                return (
                                    <div key={category} className={`category-section ${idx > 0 ? 'mt-8 pt-8 border-t-2 border-gray-200' : ''}`}>
                                        <h3 className="text-xl font-bold text-gray-900 mb-4">{category}</h3>

{category === "My Custom Questions" && (
    <p className="text-sm text-gray-600 mb-3 italic">
        To edit questions, use the 
        <button 
            onClick={() => {
                // Open modal if closed
                if (!showAddQuestion) {
                    setShowAddQuestion(true);
                }
                
                // Scroll to top first, then to modal
                window.scrollTo({ top: 0, behavior: 'smooth' });
                
                setTimeout(() => {
                    const element = document.getElementById('add-question');
                    if (element) {
                        element.scrollIntoView({ 
                            behavior: 'smooth', 
                            block: 'start',
                            inline: 'nearest'
                        });
                    }
                }, 500); // Longer delay
            }}
            className="font-semibold text-blue-600 hover:underline mx-1"
        >
            Manage Custom Questions
        </button>
        button above.
    </p>
)}
                                        <div className="space-y-3">
                                            {categorizedQuestions[category].map(question => (
    <div 
        key={question.id} 
        className="question-card flex items-start space-x-3 p-4 bg-gray-50"
    >
        <input
            type="checkbox"
            id={`q-${question.id}`}
            checked={answers[question.id] === true}
            onChange={(e) => handleAnswerChange(question.id, e.target.checked)}
            className="mt-1 h-5 w-5 cursor-pointer"
            style={{accentColor: '#afa5fe'}}
        />
        <label 
    htmlFor={`q-${question.id}`} 
    className="flex-1 cursor-pointer flex flex-wrap items-center gap-2"
>
    <span className="text-gray-900">{question.question}</span>
    <span className="text-xs font-semibold px-2 py-0.5 bg-gray-200 text-gray-700 border border-black whitespace-nowrap" style={{borderRadius: '6px'}}>
        Weight: {question.weight}
    </span>
</label>
        {question.isCustom && (
            <button
                onClick={(e) => {
                    e.preventDefault();
                    deleteCustomQuestion(question.id);
                }}
                className="text-red-600 hover:text-red-800 font-bold text-sm px-2 flex-shrink-0"
                title="Delete custom question"
            >
                ‚úï
            </button>
        )}
    </div>
))}
                                        </div>
                                    </div>
                                );
                            })}
                        </div>

                        <div className="mt-8">
    <div className="floating-button">
    <button
    onClick={handleSubmit}
    disabled={isCalculating}
    className="brutalist-button w-full text-white py-4 px-6"
    style={{
        backgroundColor: isCalculating ? '#9990e8' : '#afa5fe',
        cursor: isCalculating ? 'not-allowed' : 'pointer',
        opacity: 1
    }}
>
        {isCalculating ? (
            <>
                <span className="inline-block animate-spin mr-2">‚è≥</span>
                Calculating Your Score...
            </>
        ) : (
            `Calculate Fit Score (${answeredCount}/${filteredQuestions.length} answered)`
        )}
    </button>
</div>
</div>
                </div>
            </div>
        )}
        
        {/* Confirmation Modal */}
        {showConfirmModal && (
            <ConfirmModal
                message={confirmMessage}
                onConfirm={handleConfirmYes}
                onCancel={handleConfirmNo}
            />
        )}
    </>
);
}

ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
